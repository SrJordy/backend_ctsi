{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/lib/Prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport default prisma;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,SAAS,IAAI,6HAAA,CAAA,eAAY;uCAEhB"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/lib/paciente.ts"],"sourcesContent":["export interface ICreatePacienteInput {\r\n    nombre: string;\r\n    apellido: string;\r\n    CID: number;\r\n    telefono: string;\r\n    fecha_nac: Date | string;\r\n    genero: string;\r\n    direccion?: string;\r\n    cuidador_id: number;\r\n}\r\n\r\nexport interface IUpdatePacienteInput extends Partial<ICreatePacienteInput> {}\r\n\r\nexport interface IPacienteSearch {\r\n    id?: number;\r\n    CID?: number;\r\n    nombre?: string;\r\n    apellido?: string;\r\n    cuidador_id?: number;\r\n}\r\n\r\nexport class PacienteServiceError extends Error {\r\n    constructor(\r\n        public message: string,\r\n        public code: string,\r\n        public statusCode: number = 400\r\n    ) {\r\n        super(message);\r\n        this.name = 'PacienteServiceError';\r\n    }\r\n}"],"names":[],"mappings":";;;AAqBO,MAAM,6BAA6B;;;;IACtC,YACI,AAAO,OAAe,EACtB,AAAO,IAAY,EACnB,AAAO,aAAqB,GAAG,CACjC;QACE,KAAK,CAAC,eAJC,UAAA,cACA,OAAA,WACA,aAAA;QAGP,IAAI,CAAC,IAAI,GAAG;IAChB;AACJ"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/service/PacienteService.ts"],"sourcesContent":["import prisma from \"@/lib/Prisma\";\r\nimport { paciente } from \"@prisma/client\";\r\nimport { ICreatePacienteInput, IUpdatePacienteInput, IPacienteSearch, PacienteServiceError } from \"../lib/paciente\";\r\n\r\nexport class PacienteService {\r\n    static async getAllPacientes(options?: { \r\n        includeInactive?: boolean,\r\n        cuidadorId?: number,\r\n        page?: number,\r\n        limit?: number,\r\n        orderBy?: 'nombre' | 'apellido' | 'fecha_nac'\r\n    }): Promise<{ pacientes: paciente[], total: number }> {\r\n        try {\r\n            const skip = options?.page && options?.limit ? (options.page - 1) * options.limit : undefined;\r\n            const take = options?.limit;\r\n\r\n            const [pacientes, total] = await Promise.all([\r\n                prisma.paciente.findMany({\r\n                    where: {\r\n                        estado: options?.includeInactive ? undefined : true,\r\n                        cuidador_id: options?.cuidadorId\r\n                    },\r\n                    include: {\r\n                        cuidador: true,\r\n                        historialmedico: true,\r\n                        citamedica: {\r\n                            where: {\r\n                                status: true\r\n                            }\r\n                        }\r\n                    },\r\n                    skip,\r\n                    take,\r\n                    orderBy: options?.orderBy ? { [options.orderBy]: 'asc' } : undefined\r\n                }),\r\n                prisma.paciente.count({\r\n                    where: {\r\n                        estado: options?.includeInactive ? undefined : true,\r\n                        cuidador_id: options?.cuidadorId\r\n                    }\r\n                })\r\n            ]);\r\n\r\n            return { pacientes, total };\r\n        } catch (error) {\r\n            console.error(\"Error al obtener pacientes:\", error);\r\n            throw new PacienteServiceError(\r\n                \"Error al obtener pacientes\",\r\n                \"FETCH_ERROR\",\r\n                500\r\n            );\r\n        }\r\n    }\r\n\r\n    static async getPaciente(criteria: IPacienteSearch): Promise<paciente | null> {\r\n        try {\r\n            const { id, CID, nombre, apellido, cuidador_id } = criteria;\r\n            \r\n            return await prisma.paciente.findFirst({\r\n                where: {\r\n                    OR: [\r\n                        id ? { cod_paciente: id } : undefined,\r\n                        CID ? { CID } : undefined,\r\n                        nombre ? { nombre: { contains: nombre, mode: 'insensitive' } } : undefined,\r\n                        apellido ? { apellido: { contains: apellido, mode: 'insensitive' } } : undefined,\r\n                        cuidador_id ? { cuidador_id } : undefined\r\n                    ].filter(Boolean),\r\n                    estado: true\r\n                },\r\n                include: {\r\n                    cuidador: true,\r\n                    historialmedico: true,\r\n                    citamedica: {\r\n                        where: {\r\n                            status: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error al buscar paciente:\", error);\r\n            throw new PacienteServiceError(\r\n                \"Error al buscar paciente\",\r\n                \"SEARCH_ERROR\",\r\n                500\r\n            );\r\n        }\r\n    }\r\n\r\n    static async createPaciente(data: ICreatePacienteInput): Promise<paciente> {\r\n        try {\r\n            if (!data.nombre || !data.apellido || !data.CID || !data.telefono || !data.fecha_nac || !data.genero || !data.cuidador_id) {\r\n                throw new PacienteServiceError(\r\n                    \"Faltan campos requeridos\",\r\n                    \"MISSING_FIELDS\",\r\n                    400\r\n                );\r\n            }\r\n\r\n            if (!/^\\+?[1-9]\\d{1,14}$/.test(data.telefono)) {\r\n                throw new PacienteServiceError(\r\n                    \"Formato de teléfono inválido\",\r\n                    \"INVALID_PHONE\",\r\n                    400\r\n                );\r\n            }\r\n\r\n            const existingPaciente = await prisma.paciente.findFirst({\r\n                where: { \r\n                    CID: data.CID,\r\n                    estado: true \r\n                }\r\n            });\r\n\r\n            if (existingPaciente) {\r\n                throw new PacienteServiceError(\r\n                    \"Ya existe un paciente con este CID\",\r\n                    \"DUPLICATE_CID\",\r\n                    409\r\n                );\r\n            }\r\n\r\n            const cuidador = await prisma.usuario.findFirst({\r\n                where: { \r\n                    cod_usuario: data.cuidador_id,\r\n                    estado: true \r\n                }\r\n            });\r\n\r\n            if (!cuidador) {\r\n                throw new PacienteServiceError(\r\n                    \"El cuidador especificado no existe\",\r\n                    \"INVALID_CUIDADOR\",\r\n                    404\r\n                );\r\n            }\r\n\r\n            const fecha_nac = new Date(data.fecha_nac);\r\n            if (isNaN(fecha_nac.getTime())) {\r\n                throw new PacienteServiceError(\r\n                    \"Formato de fecha inválido\",\r\n                    \"INVALID_DATE\",\r\n                    400\r\n                );\r\n            }\r\n\r\n            return await prisma.paciente.create({\r\n                data: {\r\n                    ...data,\r\n                    fecha_nac,\r\n                    estado: true\r\n                },\r\n                include: {\r\n                    cuidador: true\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error al crear paciente:\", error);\r\n            if (error instanceof PacienteServiceError) throw error;\r\n            throw new PacienteServiceError(\r\n                \"Error al crear paciente\",\r\n                \"CREATE_ERROR\",\r\n                500\r\n            );\r\n        }\r\n    }\r\n\r\n    static async updatePaciente(id: number, data: IUpdatePacienteInput): Promise<paciente> {\r\n        try {\r\n            const existingPaciente = await prisma.paciente.findUnique({\r\n                where: { cod_paciente: id }\r\n            });\r\n\r\n            if (!existingPaciente || !existingPaciente.estado) {\r\n                throw new PacienteServiceError(\r\n                    \"Paciente no encontrado o inactivo\",\r\n                    \"NOT_FOUND\",\r\n                    404\r\n                );\r\n            }\r\n\r\n            if (data.CID) {\r\n                const duplicateCID = await prisma.paciente.findFirst({\r\n                    where: {\r\n                        CID: data.CID,\r\n                        cod_paciente: { not: id },\r\n                        estado: true\r\n                    }\r\n                });\r\n\r\n                if (duplicateCID) {\r\n                    throw new PacienteServiceError(\r\n                        \"Ya existe otro paciente con este CID\",\r\n                        \"DUPLICATE_CID\",\r\n                        409\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (data.cuidador_id) {\r\n                const cuidador = await prisma.usuario.findFirst({\r\n                    where: { \r\n                        cod_usuario: data.cuidador_id,\r\n                        estado: true \r\n                    }\r\n                });\r\n\r\n                if (!cuidador) {\r\n                    throw new PacienteServiceError(\r\n                        \"El cuidador especificado no existe\",\r\n                        \"INVALID_CUIDADOR\",\r\n                        404\r\n                    );\r\n                }\r\n            }\r\n\r\n            return await prisma.paciente.update({\r\n                where: { cod_paciente: id },\r\n                data,\r\n                include: {\r\n                    cuidador: true\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error al actualizar paciente:\", error);\r\n            if (error instanceof PacienteServiceError) throw error;\r\n            throw new PacienteServiceError(\r\n                \"Error al actualizar paciente\",\r\n                \"UPDATE_ERROR\",\r\n                500\r\n            );\r\n        }\r\n    }\r\n\r\n    static async deletePaciente(id: number): Promise<paciente> {\r\n        try {\r\n            const existingPaciente = await prisma.paciente.findUnique({\r\n                where: { cod_paciente: id },\r\n                include: {\r\n                    citamedica: {\r\n                        where: {\r\n                            status: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (!existingPaciente || !existingPaciente.estado) {\r\n                throw new PacienteServiceError(\r\n                    \"Paciente no encontrado o ya está inactivo\",\r\n                    \"NOT_FOUND\",\r\n                    404\r\n                );\r\n            }\r\n\r\n            if (existingPaciente.citamedica.length > 0) {\r\n                throw new PacienteServiceError(\r\n                    \"No se puede eliminar el paciente porque tiene citas médicas activas\",\r\n                    \"ACTIVE_APPOINTMENTS\",\r\n                    400\r\n                );\r\n            }\r\n\r\n            return await prisma.paciente.update({\r\n                where: { cod_paciente: id },\r\n                data: { estado: false },\r\n                include: {\r\n                    cuidador: true\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error al eliminar paciente:\", error);\r\n            if (error instanceof PacienteServiceError) throw error;\r\n            throw new PacienteServiceError(\r\n                \"Error al eliminar paciente\",\r\n                \"DELETE_ERROR\",\r\n                500\r\n            );\r\n        }\r\n    }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/controller/PacienteController.ts"],"sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\r\nimport { PacienteService } from \"../service/PacienteService\";\r\nimport { PacienteServiceError } from \"../lib/paciente\";\r\n\r\nexport class PacienteController {\r\n    static async getPacientes(req: NextApiRequest, res: NextApiResponse) {\r\n        try {\r\n            const { \r\n                page, \r\n                limit, \r\n                orderBy, \r\n                includeInactive, \r\n                cuidadorId \r\n            } = req.query;\r\n\r\n            const options = {\r\n                page: page ? parseInt(page as string) : undefined,\r\n                limit: limit ? parseInt(limit as string) : undefined,\r\n                orderBy: orderBy as 'nombre' | 'apellido' | 'fecha_nac' | undefined,\r\n                includeInactive: includeInactive === 'true',\r\n                cuidadorId: cuidadorId ? parseInt(cuidadorId as string) : undefined\r\n            };\r\n\r\n            const result = await PacienteService.getAllPacientes(options);\r\n            \r\n            return res.status(200).json({\r\n                data: result.pacientes,\r\n                total: result.total,\r\n                page: options.page || 1,\r\n                limit: options.limit,\r\n                totalPages: options.limit ? Math.ceil(result.total / options.limit) : 1\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error en getPacientes:\", error);\r\n            return res.status(500).json({\r\n                error: \"Error al obtener pacientes\",\r\n                details: error instanceof Error ? error.message : 'Error desconocido'\r\n            });\r\n        }\r\n    }\r\n\r\n    static async getPaciente(req: NextApiRequest, res: NextApiResponse) {\r\n        try {\r\n            const { id, CID, nombre, apellido, cuidador_id } = req.query;\r\n\r\n            const paciente = await PacienteService.getPaciente({\r\n                id: id ? parseInt(id as string) : undefined,\r\n                CID: CID ? parseInt(CID as string) : undefined,\r\n                nombre: nombre as string,\r\n                apellido: apellido as string,\r\n                cuidador_id: cuidador_id ? parseInt(cuidador_id as string) : undefined\r\n            });\r\n\r\n            if (!paciente) {\r\n                return res.status(404).json({\r\n                    error: \"Paciente no encontrado\",\r\n                    code: \"NOT_FOUND\"\r\n                });\r\n            }\r\n\r\n            return res.status(200).json(paciente);\r\n        } catch (error) {\r\n            console.error(\"Error en getPaciente:\", error);\r\n            if (error instanceof PacienteServiceError) {\r\n                return res.status(error.statusCode).json({\r\n                    error: error.message,\r\n                    code: error.code\r\n                });\r\n            }\r\n            return res.status(500).json({\r\n                error: \"Error al buscar paciente\",\r\n                code: \"INTERNAL_ERROR\"\r\n            });\r\n        }\r\n    }\r\n\r\n    static async createPaciente(req: NextApiRequest, res: NextApiResponse) {\r\n        try {\r\n            const {\r\n                nombre,\r\n                apellido,\r\n                CID,\r\n                telefono,\r\n                fecha_nac,\r\n                genero,\r\n                direccion,\r\n                cuidador_id\r\n            } = req.body;\r\n\r\n            console.log(req.body);\r\n            if (!nombre?.trim() || !apellido?.trim() || !CID || !telefono?.trim() || \r\n                !fecha_nac || !genero?.trim() || !cuidador_id) {\r\n                return res.status(400).json({\r\n                    error: \"Faltan campos requeridos o son inválidos\",\r\n                    code: \"MISSING_FIELDS\"\r\n                });\r\n            }\r\n\r\n            if (!/^\\d{10}$/.test(CID.toString())) {\r\n                return res.status(400).json({\r\n                    error: \"El CID debe tener 10 dígitos\",\r\n                    code: \"INVALID_CID\"\r\n                });\r\n            }\r\n\r\n            const fechaNacDate = new Date(fecha_nac);\r\n            if (isNaN(fechaNacDate.getTime())) {\r\n                return res.status(400).json({\r\n                    error: \"Formato de fecha inválido\",\r\n                    code: \"INVALID_DATE\"\r\n                });\r\n            }\r\n\r\n            const newPaciente = await PacienteService.createPaciente({\r\n                nombre,\r\n                apellido,\r\n                CID: parseInt(CID),\r\n                telefono,\r\n                fecha_nac: fechaNacDate,\r\n                genero,\r\n                direccion,\r\n                cuidador_id: parseInt(cuidador_id)\r\n            });\r\n\r\n            return res.status(201).json(newPaciente);\r\n        } catch (error) {\r\n            console.error(\"Error en createPaciente:\", error);\r\n            if (error instanceof PacienteServiceError) {\r\n                return res.status(error.statusCode).json({\r\n                    error: error.message,\r\n                    code: error.code\r\n                });\r\n            }\r\n            return res.status(500).json({\r\n                error: \"Error al crear paciente\",\r\n                code: \"INTERNAL_ERROR\"\r\n            });\r\n        }\r\n    }\r\n\r\n    static async updatePaciente(req: NextApiRequest, res: NextApiResponse) {\r\n        try {\r\n            const { id } = req.query;\r\n            const {\r\n                nombre,\r\n                apellido,\r\n                CID,\r\n                telefono,\r\n                fecha_nac,\r\n                genero,\r\n                direccion,\r\n                cuidador_id\r\n            } = req.body;\r\n\r\n            if (!id) {\r\n                return res.status(400).json({\r\n                    error: \"ID de paciente requerido\",\r\n                    code: \"MISSING_ID\"\r\n                });\r\n            }\r\n\r\n            if (!Object.keys(req.body).length) {\r\n                return res.status(400).json({\r\n                    error: \"No se proporcionaron datos para actualizar\",\r\n                    code: \"NO_DATA\"\r\n                });\r\n            }\r\n\r\n            let fechaNacDate;\r\n            if (fecha_nac) {\r\n                fechaNacDate = new Date(fecha_nac);\r\n                if (isNaN(fechaNacDate.getTime())) {\r\n                    return res.status(400).json({\r\n                        error: \"Formato de fecha inválido\",\r\n                        code: \"INVALID_DATE\"\r\n                    });\r\n                }\r\n            }\r\n\r\n            const updatedPaciente = await PacienteService.updatePaciente(\r\n                parseInt(id as string),\r\n                {\r\n                    ...(nombre && { nombre }),\r\n                    ...(apellido && { apellido }),\r\n                    ...(CID && { CID: parseInt(CID) }),\r\n                    ...(telefono && { telefono }),\r\n                    ...(fecha_nac && { fecha_nac: fechaNacDate }),\r\n                    ...(genero && { genero }),\r\n                    ...(direccion && { direccion }),\r\n                    ...(cuidador_id && { cuidador_id: parseInt(cuidador_id) })\r\n                }\r\n            );\r\n\r\n            return res.status(200).json(updatedPaciente);\r\n        } catch (error) {\r\n            console.error(\"Error en updatePaciente:\", error);\r\n            if (error instanceof PacienteServiceError) {\r\n                return res.status(error.statusCode).json({\r\n                    error: error.message,\r\n                    code: error.code\r\n                });\r\n            }\r\n            return res.status(500).json({\r\n                error: \"Error al actualizar paciente\",\r\n                code: \"INTERNAL_ERROR\"\r\n            });\r\n        }\r\n    }\r\n\r\n    static async deletePaciente(req: NextApiRequest, res: NextApiResponse) {\r\n        try {\r\n            const { id } = req.query;\r\n\r\n            if (!id) {\r\n                return res.status(400).json({\r\n                    error: \"ID de paciente requerido\",\r\n                    code: \"MISSING_ID\"\r\n                });\r\n            }\r\n\r\n            const deletedPaciente = await PacienteService.deletePaciente(parseInt(id as string));\r\n\r\n            return res.status(200).json({\r\n                message: \"Paciente eliminado correctamente\",\r\n                data: deletedPaciente\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error en deletePaciente:\", error);\r\n            if (error instanceof PacienteServiceError) {\r\n                return res.status(error.statusCode).json({\r\n                    error: error.message,\r\n                    code: error.code\r\n                });\r\n            }\r\n            return res.status(500).json({\r\n                error: \"Error al eliminar paciente\",\r\n                code: \"INTERNAL_ERROR\"\r\n            });\r\n        }\r\n    }\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/lib/corsMiddleware.ts"],"sourcesContent":["import Cors from 'cors';\r\nimport { NextApiRequest, NextApiResponse } from 'next';\r\n\r\nconst cors = Cors({\r\n    methods: ['GET', 'HEAD', 'PUT', 'PATCH', 'POST', 'DELETE', 'OPTIONS'],\r\n    origin: 'http://localhost:5173', // Específicamente tu origen de Vite\r\n    credentials: true,\r\n    optionsSuccessStatus: 200,\r\n    allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],\r\n});\r\n\r\nfunction runMiddleware(req: NextApiRequest, res: NextApiResponse, fn: Function) {\r\n    return new Promise((resolve, reject) => {\r\n        fn(req, res, (result: any) => {\r\n            if (result instanceof Error) {\r\n                return reject(result);\r\n            }\r\n            return resolve(result);\r\n        });\r\n    });\r\n}\r\n\r\nconst corsMiddleware = async (req: NextApiRequest, res: NextApiResponse) => {\r\n    if (req.method === 'OPTIONS') {\r\n        try {\r\n            await runMiddleware(req, res, cors);\r\n            res.status(200).end();\r\n            return;\r\n        } catch (error) {\r\n            console.error('Error en OPTIONS:', error);\r\n            res.status(500).end();\r\n            return;\r\n        }\r\n    }\r\n    await runMiddleware(req, res, cors);\r\n};\r\n\r\nexport default corsMiddleware;"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,OAAO,CAAA,GAAA,iGAAA,CAAA,UAAI,AAAD,EAAE;IACd,SAAS;QAAC;QAAO;QAAQ;QAAO;QAAS;QAAQ;QAAU;KAAU;IACrE,QAAQ;IACR,aAAa;IACb,sBAAsB;IACtB,gBAAgB;QAAC;QAAgB;QAAiB;KAAmB;AACzE;AAEA,SAAS,cAAc,GAAmB,EAAE,GAAoB,EAAE,EAAY;IAC1E,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,GAAG,KAAK,KAAK,CAAC;YACV,IAAI,kBAAkB,OAAO;gBACzB,OAAO,OAAO;YAClB;YACA,OAAO,QAAQ;QACnB;IACJ;AACJ;AAEA,MAAM,iBAAiB,OAAO,KAAqB;IAC/C,IAAI,IAAI,MAAM,KAAK,WAAW;QAC1B,IAAI;YACA,MAAM,cAAc,KAAK,KAAK;YAC9B,IAAI,MAAM,CAAC,KAAK,GAAG;YACnB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qBAAqB;YACnC,IAAI,MAAM,CAAC,KAAK,GAAG;YACnB;QACJ;IACJ;IACA,MAAM,cAAc,KAAK,KAAK;AAClC;uCAEe"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/src/pages/api/ApiPaciente.ts"],"sourcesContent":["// pages/api/ApiPaciente.ts\r\nimport { NextApiRequest, NextApiResponse } from \"next\";\r\nimport { PacienteController } from \"@/controller/PacienteController\";\r\nimport corsMiddleware from \"@/lib/corsMiddleware\";\r\nimport { PacienteServiceError } from \"@/lib/paciente\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n    try {\r\n        await corsMiddleware(req, res);\r\n        const { method } = req;\r\n        const { id, CID, nombre, apellido, page, limit, orderBy, includeInactive, cuidadorId } = req.query;\r\n\r\n        switch (method) {\r\n            case \"GET\":\r\n                if (id || CID || nombre || apellido) {\r\n                    return await PacienteController.getPaciente(req, res);\r\n                }\r\n                return await PacienteController.getPacientes(req, res);\r\n            case \"POST\":\r\n                return await PacienteController.createPaciente(req, res);\r\n            case \"PUT\":\r\n                if (!id) {\r\n                    return res.status(400).json({\r\n                        success: false,\r\n                        error: \"El ID es requerido para actualizar un paciente\",\r\n                        code: \"MISSING_ID\"\r\n                    });\r\n                }\r\n                return await PacienteController.updatePaciente(req, res);\r\n\r\n            case \"DELETE\":\r\n                if (!id) {\r\n                    return res.status(400).json({\r\n                        success: false,\r\n                        error: \"El ID es requerido para eliminar un paciente\",\r\n                        code: \"MISSING_ID\"\r\n                    });\r\n                }\r\n                return await PacienteController.deletePaciente(req, res);\r\n            default:\r\n                return res.status(405).json({\r\n                    success: false,\r\n                    error: \"Método no permitido\",\r\n                    code: \"METHOD_NOT_ALLOWED\"\r\n                });\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error en la API de Pacientes:\", error);\r\n        if (error instanceof PacienteServiceError) {\r\n            return res.status(error.statusCode).json({\r\n                success: false,\r\n                error: error.message,\r\n                code: error.code\r\n            });\r\n        }\r\n        return res.status(500).json({\r\n            success: false,\r\n            error: \"Error interno del servidor\",\r\n            code: \"INTERNAL_SERVER_ERROR\",\r\n            message: process.env.NODE_ENV === \"development\" ? error.message : undefined\r\n        });\r\n    }\r\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAE3B;AACA;AACA;;;;AAEe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC3E,IAAI;QACA,MAAM,CAAA,GAAA,qHAAA,CAAA,UAAc,AAAD,EAAE,KAAK;QAC1B,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,GAAG,IAAI,KAAK;QAElG,OAAQ;YACJ,KAAK;gBACD,IAAI,MAAM,OAAO,UAAU,UAAU;oBACjC,OAAO,MAAM,gIAAA,CAAA,qBAAkB,CAAC,WAAW,CAAC,KAAK;gBACrD;gBACA,OAAO,MAAM,gIAAA,CAAA,qBAAkB,CAAC,YAAY,CAAC,KAAK;YACtD,KAAK;gBACD,OAAO,MAAM,gIAAA,CAAA,qBAAkB,CAAC,cAAc,CAAC,KAAK;YACxD,KAAK;gBACD,IAAI,CAAC,IAAI;oBACL,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBACxB,SAAS;wBACT,OAAO;wBACP,MAAM;oBACV;gBACJ;gBACA,OAAO,MAAM,gIAAA,CAAA,qBAAkB,CAAC,cAAc,CAAC,KAAK;YAExD,KAAK;gBACD,IAAI,CAAC,IAAI;oBACL,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBACxB,SAAS;wBACT,OAAO;wBACP,MAAM;oBACV;gBACJ;gBACA,OAAO,MAAM,gIAAA,CAAA,qBAAkB,CAAC,cAAc,CAAC,KAAK;YACxD;gBACI,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBACxB,SAAS;oBACT,OAAO;oBACP,MAAM;gBACV;QACR;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,IAAI,iBAAiB,+GAAA,CAAA,uBAAoB,EAAE;YACvC,OAAO,IAAI,MAAM,CAAC,MAAM,UAAU,EAAE,IAAI,CAAC;gBACrC,SAAS;gBACT,OAAO,MAAM,OAAO;gBACpB,MAAM,MAAM,IAAI;YACpB;QACJ;QACA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACxB,SAAS;YACT,OAAO;YACP,MAAM;YACN,SAAS,uCAAyC,MAAM,OAAO;QACnE;IACJ;AACJ"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/node_modules/next/dist/src/server/route-modules/pages-api/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/pages-api/module.js')\n} else {\n  if (process.env.NODE_ENV === 'development') {\n    module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js')\n  } else if (process.env.TURBOPACK) {\n    module.exports = require('next/dist/compiled/next-server/pages-api-turbo.runtime.prod.js')\n  } else {\n    module.exports = require('next/dist/compiled/next-server/pages-api.runtime.prod.js')\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,QAAQ,KAAK,WAAe;QAC1CH,OAAOC,OAAO,GAAGC,QAAQ;IAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACM,SAAS,EAAE;;IAIlC;AACF","ignoreList":[0]}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/node_modules/next/dist/src/server/route-kind.ts"],"sourcesContent":["export const enum RouteKind {\n  /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */\n  PAGES = 'PAGES',\n  /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */\n  PAGES_API = 'PAGES_API',\n  /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */\n  APP_PAGE = 'APP_PAGE',\n  /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */\n  APP_ROUTE = 'APP_ROUTE',\n\n  /**\n   * `IMAGE` represents all the images that are generated by `next/image`.\n   */\n  IMAGE = 'IMAGE',\n}\n"],"names":["RouteKind"],"mappings":";;;AAAO,IAAWA,YAAAA,WAAAA,GAAAA,SAAAA,SAAAA;IAChB;;GAEC,GAAA,SAAA,CAAA,QAAA,GAAA;IAED;;GAEC,GAAA,SAAA,CAAA,YAAA,GAAA;IAED;;;GAGC,GAAA,SAAA,CAAA,WAAA,GAAA;IAED;;;GAGC,GAAA,SAAA,CAAA,YAAA,GAAA;IAGD;;GAEC,GAAA,SAAA,CAAA,QAAA,GAAA;WAtBeA;MAwBjB","ignoreList":[0]}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 680, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/node_modules/next/dist/src/build/templates/helpers.ts"],"sourcesContent":["/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */\nexport function hoist(module: any, name: string) {\n  // If the name is available in the module, return it.\n  if (name in module) {\n    return module[name]\n  }\n\n  // If a property called `then` exists, assume it's a promise and\n  // return a promise that resolves to the name.\n  if ('then' in module && typeof module.then === 'function') {\n    return module.then((mod: any) => hoist(mod, name))\n  }\n\n  // If we're trying to hoise the default export, and the module is a function,\n  // return the module itself.\n  if (typeof module === 'function' && name === 'default') {\n    return module\n  }\n\n  // Otherwise, return undefined.\n  return undefined\n}\n"],"names":["hoist","module","name","then","mod","undefined"],"mappings":"AAAA;;;;;;CAMC,GACD;;;AAAO,SAASA,MAAMC,MAAW,EAAEC,IAAY;IAC7C,qDAAqD;IACrD,IAAIA,QAAQD,QAAQ;QAClB,OAAOA,MAAM,CAACC,KAAK;IACrB;IAEA,gEAAgE;IAChE,8CAA8C;IAC9C,IAAI,UAAUD,UAAU,OAAOA,OAAOE,IAAI,KAAK,YAAY;QACzD,OAAOF,OAAOE,IAAI,CAAC,CAACC,MAAaJ,MAAMI,KAAKF;IAC9C;IAEA,6EAA6E;IAC7E,4BAA4B;IAC5B,IAAI,OAAOD,WAAW,cAAcC,SAAS,WAAW;QACtD,OAAOD;IACT;IAEA,+BAA+B;IAC/B,OAAOI;AACT","ignoreList":[0]}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SrJordy/Desktop/Proyecto%20CTIS/backend-ctsi/node_modules/next/dist/src/build/templates/pages-api.ts"],"sourcesContent":["import { PagesAPIRouteModule } from '../../server/route-modules/pages-api/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\n\n// Re-export the handler (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export config.\nexport const config = hoist(userland, 'config')\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesAPIRouteModule({\n  definition: {\n    kind: RouteKind.PAGES_API,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  userland,\n})\n"],"names":["PagesAPIRouteModule","RouteKind","hoist","userland","config","routeModule","definition","kind","PAGES_API","page","pathname","bundlePath","filename"],"mappings":";;;;;AAAA,SAASA,mBAAmB,QAAQ,uDAAsD;AAC1F,SAASC,SAAS,QAAQ,0BAAyB;AAEnD,SAASC,KAAK,QAAQ,YAAW;AAEjC,4BAA4B;AAC5B,YAAYC,cAAc,eAAc;;;;;yMAGzBD,QAAAA,EAAMC,6HAAU,WAAU;AAGlC,MAAMC,2KAASF,QAAAA,EAAMC,6HAAU,UAAS;AAGxC,MAAME,cAAc,qMAAIL,sBAAAA,CAAoB;IACjDM,YAAY;QACVC,8JAAMN,YAAAA,CAAUO,SAAS;QACzBC,MAAM;QACNC,UAAU;QACV,2CAA2C;QAC3CC,YAAY;QACZC,UAAU;IACZ;cACAT;AACF,GAAE","ignoreList":[0]}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}